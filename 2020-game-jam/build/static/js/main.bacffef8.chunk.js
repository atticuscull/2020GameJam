(this["webpackJsonp2020-game-jam"]=this["webpackJsonp2020-game-jam"]||[]).push([[0],{10:function(e,t,n){e.exports=n(28)},15:function(e,t,n){},16:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(4),r=n.n(c),i=(n(15),n(1));n(16);var l=function(e){var t=Object(a.useRef)(null),n=Object(a.useState)({keysDown:0,mainKey:"",secondaryKey:""}),c=Object(i.a)(n,2),r=c[0],l=c[1],s=Object(a.useState)(""),u=Object(i.a)(s,2),f=u[0],d=u[1],m=function(e){e.repeat||d(e.keyCode.toString()+",down")},y=function(e){d(e.keyCode.toString()+",up")};return Object(a.useEffect)((function(){document.addEventListener("keydown",m),document.addEventListener("keyup",y)}),[]),Object(a.useEffect)((function(){var n,a=e.width,o=e.height,c=t.current.getContext("2d");(n=c).fillStyle="#ff00ff",n.fillRect(0,0,a,o),function(e,t){if(e.fillStyle="#000000",e.translate(a/2,o/2),"center"===t)e.beginPath(),e.moveTo(0,-10),e.lineTo(10,0),e.lineTo(0,10),e.lineTo(-10,0),e.lineTo(0,-10),e.fill();else{var n=Math.PI/4,c=0;switch(t){case"up":case"updown":c=0;break;case"upleft":c=-n;break;case"left":case"leftright":c=-2*n;break;case"downleft":c=-3*n;break;case"down":case"downup":c=4*n;break;case"downright":c=3*n;break;case"right":case"rightleft":c=2*n;break;case"upright":c=n;break;default:c=0}e.rotate(c),e.beginPath(),e.moveTo(0,0),e.lineTo(-5,10),e.lineTo(0,-20),e.lineTo(5,10),e.lineTo(0,0),e.fill(),e.rotate(-c)}e.translate(-a/2,-o/2)}(n,function(e){var t="";return 87===e.mainKey&&(t+="up"),83===e.mainKey&&(t+="down"),87===e.secondaryKey&&(t+="up"),83===e.secondaryKey&&(t+="down"),65===e.mainKey&&(t+="left"),68===e.mainKey&&(t+="right"),65===e.secondaryKey&&(t+="left"),68===e.secondaryKey&&(t+="right"),""===t&&(t="center"),t}(r))}),[r,e]),Object(a.useEffect)((function(){if(""!==f){var e=f.split(","),t=parseInt(e[0]),n={};"up"===e[1]&&(t===r.mainKey?(n.keysDown=r.keysDown-1,n.mainKey=r.secondaryKey,n.secondaryKey="",l(n)):t===r.secondaryKey&&(n.keysDown=r.keysDown-1,n.mainKey=r.mainKey,n.secondaryKey="",l(n))),"down"===e[1]&&r.keysDown<2&&(n.secondaryKey=r.mainKey,n.mainKey=t,n.keysDown=r.keysDown+1,l(n)),d("")}}),[f,d,l,r]),o.a.createElement("div",null,o.a.createElement("canvas",{ref:t,width:e.width,height:e.height}))},s=n(2),u=n.n(s);var f=function(e){var t=Object(a.useState)(0),n=Object(i.a)(t,2),c=n[0],r=n[1];return e.static?o.a.createElement("button",{className:"puzzle-button",style:{background:e.colorList[e.staticColor]},onClick:function(){}}):o.a.createElement("button",{className:"puzzle-button",style:{background:e.colorList[c]},onClick:function(){var t=(c+1)%e.colorList.length;r(t),e.onClick(t)}}," ")};var d=function(e){var t=Object(a.useState)(function(e){for(var t=[],n=0;n<e.rows;n++){for(var a=[],o=0;o<e.cols;o++)a.push(0);t.push(a)}for(var c=0;c<e.staticSquares.length;c++){var r=e.staticSquares[c];t[r[0]][r[1]]=r[2]}return t}(e)),n=Object(i.a)(t,2),c=n[0],r=n[1],l=e.onSolvePuzzle,s=e.solution;return Object(a.useEffect)((function(){Object.keys(c).reduce((function(e,t){return e&&Object.keys(c[t]).reduce((function(e,n){return e&&c[t][n]===s[t][n]}),!0)}),!0)&&l()}),[l,c,s]),o.a.createElement("table",{className:"puzzle",cellSpacing:"0",cellPadding:"0"},o.a.createElement("thead",null,o.a.createElement("tr",null,Object.keys(c[0]).map((function(e){return o.a.createElement("th",{key:e})})))),o.a.createElement("tbody",null,Object.keys(c).map((function(t){return o.a.createElement("tr",{key:t},Object.keys(c[t]).map((function(n){return o.a.createElement("td",{className:"puzzle-td",key:n},function(t,n){var a=c[t][n];return o.a.createElement(f,{static:a<0,staticColor:-a,colorList:e.colorList,onClick:function(e){var a=[].concat(c);a[t][n]=e,r(a)}})}(t,n))})))}))))};var m=function(e){var t=Object(a.useState)(e.showModal),n=Object(i.a)(t,2),c=n[0],r=n[1];function l(){r(!1)}return Object(a.useEffect)((function(){r(e.showModal)}),[e,r]),o.a.createElement(u.a,{isOpen:c,onAfterOpen:function(){},style:{overlay:{backgroundColor:"#ffffff3f"}},contentLabel:"Example Modal",className:"puzzle-modal"},o.a.createElement("div",{className:"puzzle-container"},o.a.createElement(d,{staticSquares:e.staticSquares,colorList:e.colorList,rows:e.rows,cols:e.cols,onSolvePuzzle:l,solution:e.solution}),o.a.createElement("button",{className:"close-puzzle-button",onClick:l},"Close Modal")))};var y=function(){var e=Object(a.useState)(window.innerWidth),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(window.innerHeight),s=Object(i.a)(r,2),u=s[0],f=s[1],d=function(){c(window.innerWidth),f(window.innerHeight)};return Object(a.useEffect)((function(){window.addEventListener("resize",d)})),o.a.createElement("div",{className:"App"},o.a.createElement(l,{width:n-1,height:u-3}),o.a.createElement(m,{showModal:!0,solution:[[-2,0,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0]],staticSquares:[[0,0,-2]],colorList:["black","white","red"],rows:"4",cols:"4"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.setAppElement("#root"),r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.bacffef8.chunk.js.map